<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <title>HRM</title>
    <link href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css">
    <script type="text/javascript" src="../js/scripts.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/style.css">
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="../js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/style.css">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"> </script>
    <link rel="stylesheet" media="screen" type="text/css" href="../css/style_carlos.css">
</head>
<header></header>
<body class="hrm-body">

  <div id="particles-js"></div>

  <div class="container hrm_form_container">
    <div class="hrm-form">
      <h1 class="item-form-left hrm_title">Work with us</h1>
      <form id="HRMform" class="hrm-form needs-validation" action="javascript:postValidation(); javascript:limitSubmit()"  method="post" novalidate>
        <div class="row data-container">
          <p class="item-section-personal item-form-01" >
            <span class="item-span">Personal Data</span>
          </p>
          <p class="col-md-5 item-form-left item-form-03">
            <input class="form-control" type="text" name="personal_data" value="" placeholder="Nombre Completo*" required>
          </p>
          <p class="col-md-5 item-form-rigth item-form-04">
            <input class="form-control" type="text" name="email" value="" placeholder="Dirección de correo electrónico*" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" required>
          </p>
          <p class="col-md-5 item-form-left item-form-05">
            <input class="form-control" type="text" name="phone_number" value="" placeholder="Número de teléfono*" pattern="^\d{3}\d{3}\d{3}$" required>
          </p>
          <p class="col-md-5 item-form-rigth item-form-06">
            <input class="form-control" type="text" name="birth_date" value="" placeholder="Fecha de nacimiento*" pattern="^\d{2}/\d{2}/\d{4}$" required>
          </p>
          <p class="col-md-10 item-form-left item-form-07">
            <input id="home-adress" class="form-control" type="text" name="home_address" value="" placeholder="Dirección*" required>
          </p>
          <p class="col-md-5 item-form-left item-form-08">
            <input class="form-control" type="text" name="city" value="" placeholder="Ciudad*" required>
          </p>
          <p class="col-md-5 item-form-rigth item-form-09">
            <input class="form-control" type="text" name="postal_code" value="" placeholder="Código Postal*" pattern="^\d{5}$" required>
          </p>
          <p class="item-section-academic item-form-012" >
            <span class="item-span">Datos académicos</span>
          </p>
          <p class= "col-md-5 item-form-10">
            <input class="form-control" type="text" name="title" value="" placeholder="Titulación*" required>
          </p>
          <p class="col-md-11 item-form-11 form-small-textarea">
            <textarea class="form-control" name="other_courses" placeholder="Cursos u otra formación*" rows="10" cols="127" required></textarea>
          <p class="item-section-experience item-form-012" >
            <span class="item-span-12">Experiencia laboral</span>
          </p>
          <p class="col-md-11 item-form-13 form-small-textarea">
            <textarea class="form-control" name="work_experience" placeholder="Escriba su experiencia laboral*" rows="10" cols="127" required></textarea>
          </p>
          <p id="hrm-button" class="col-md-11 item-form-14">
            <input id="HRM-submit" class="btn btn-success" type="submit" value="Submit">
          </p>
        </div>
      </form>
    </div>
  </div>
</body>
<footer></footer>
<script>
  var forms = document.querySelectorAll('.needs-validation');

    Array.prototype.slice.call(forms).forEach( function(form)
    {
        form.addEventListener( 'submit', function (event)
        {
            if ( !form.checkValidity() )
            {
                event.preventDefault()
                event.stopPropagation();
            }

            form.classList.add( 'was-validated' );
      }, false );
    } );

    function postValidation() {
      swal("La información ha sido enviada correctamente", "", "success");
    }

    function limitSubmit() {
        var timesSubmitted = 0;
        var maxSubmits = 3;
        var intervalMilliseconds = 5000;
        var closeInSeconds = 5;
        var displayText = "#1 segundos";
        var sweetAlertTimer;

        $('input[type=submit]').click(function (event) {
          timesSubmitted ++;
          if (timesSubmitted >= maxSubmits) {
            event.preventDefault();
            swal({
              title: "Podrá enviar el formulario en...",
              text: displayText.replace(/#1/, closeInSeconds),
              sweetAlertTimer: closeInSeconds * 1000,
            });
            sweetAlertTimer = setInterval(function() {
              console.log(closeInSeconds);
              closeInSeconds--;
              if (closeInSeconds < 0) {
                  clearInterval(sweetAlertTimer);
              }
              $('.swal-text').text(displayText.replace(/#1/, closeInSeconds));
            }, 1000);

            var timer = setTimeout(function () {
              location.reload();
            }, intervalMilliseconds);
          }
        });
      }

      $(document).ready(async function(){

  	    $('header').load('header_alt.html');
  	    $('footer').load('footer_alt.html');
  	});
</script>

<script src="/js/particles.min.js"></script>
<script src="/js/app.js"></script>

</html>
